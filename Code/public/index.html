<!-- public/index.html -->
<!doctype html>
<html>
  <head><meta charset="utf-8"><title>HowAreYou — Prototype</title></head>
  <body>
    <h1>HowAreYou — Prototype</h1>
    <form id="form">
      <input id="audio" type="file" accept="audio/*" required />
      <button type="submit">Submit</button>
    </form>
    <div id="status"></div>
    <div id="result"></div>
    <script>
      const $ = (id) => document.getElementById(id);
      document.getElementById("form").addEventListener("submit", async (e) => {
        e.preventDefault();
        const file = $("audio").files[0];
        if (!file) return;
        $("status").textContent = "Uploading…";
        const fd = new FormData(); fd.append("audio", file);
        const res = await fetch("/api/journal", { method: "POST", body: fd });
        const data = await res.json();
        if (!res.ok) { $("status").textContent = "Error: " + (data.error||""); return; }
        $("status").textContent = "Done!";
        $("result").textContent = JSON.stringify(data, null, 2);
      });
    </script>
  </body>
</html>
